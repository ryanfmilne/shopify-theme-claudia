{%- comment -%}
  Alpine.js + Tailwind CSS Test Section
  Demonstrates interactive components with Alpine.js and Tailwind styling
{%- endcomment -%}

<section class="py-16 bg-gradient-to-br from-brand-gray to-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    {%- if section.settings.heading != blank -%}
      <h2 class="font-heading text-4xl md:text-5xl text-brand-black text-center mb-12">
        {{ section.settings.heading }}
      </h2>
    {%- endif -%}

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">

      {%- comment -%}Counter Component{%- endcomment -%}
      <div
        x-data="{ count: 0 }"
        class="fashion-card p-8"
      >
        <h3 class="heading-tertiary mb-4">Counter Demo</h3>
        <p class="body-text mb-6 text-gray-600">
          Test Alpine.js reactivity with a simple counter
        </p>

        <div class="flex items-center justify-center gap-4 mb-6">
          <button
            @click="count--"
            class="btn-secondary w-12 h-12 rounded-full flex items-center justify-center hover:scale-110 transition-transform"
            aria-label="Decrease counter"
          >
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>
            </svg>
          </button>

          <div class="w-24 h-24 rounded-full bg-brand-pink text-white flex items-center justify-center">
            <span class="text-4xl font-bold" x-text="count">0</span>
          </div>

          <button
            @click="count++"
            class="btn-primary w-12 h-12 rounded-full flex items-center justify-center hover:scale-110 transition-transform"
            aria-label="Increase counter"
          >
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
            </svg>
          </button>
        </div>

        <button
          @click="count = 0"
          class="btn-secondary w-full"
        >
          Reset Counter
        </button>
      </div>

      {%- comment -%}Toggle Component with Transition{%- endcomment -%}
      <div
        x-data="{ isOpen: false }"
        class="fashion-card p-8"
      >
        <h3 class="heading-tertiary mb-4">Toggle & Transition Demo</h3>
        <p class="body-text mb-6 text-gray-600">
          Test x-show, x-transition, and @click directives
        </p>

        <button
          @click="isOpen = !isOpen"
          class="btn-primary w-full mb-4"
          x-text="isOpen ? 'Hide Content' : 'Show Content'"
        >
          Show Content
        </button>

        <div
          x-show="isOpen"
          x-cloak
          x-transition:enter="transition ease-out duration-300"
          x-transition:enter-start="opacity-0 transform scale-90"
          x-transition:enter-end="opacity-100 transform scale-100"
          x-transition:leave="transition ease-in duration-200"
          x-transition:leave-start="opacity-100 transform scale-100"
          x-transition:leave-end="opacity-0 transform scale-90"
          class="bg-white border-2 border-brand-pink rounded-lg p-6 shadow-lg"
        >
          <div class="flex items-start gap-4">
            <div class="flex-shrink-0 w-12 h-12 bg-brand-pink rounded-full flex items-center justify-center">
              <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
            </div>
            <div>
              <h4 class="font-semibold text-brand-black mb-2">Success!</h4>
              <p class="text-gray-600 text-sm">
                Alpine.js transitions are working perfectly with Tailwind CSS classes.
              </p>
            </div>
          </div>
        </div>
      </div>

      {%- comment -%}Tab Switcher Component{%- endcomment -%}
      <div
        x-data="{ activeTab: 'tab1' }"
        class="fashion-card p-8 md:col-span-2"
      >
        <h3 class="heading-tertiary mb-4">Tab Switcher Demo</h3>
        <p class="body-text mb-6 text-gray-600">
          Test dynamic binding with :class directive
        </p>

        <div class="flex gap-2 mb-6 border-b-2 border-gray-200">
          <button
            @click="activeTab = 'tab1'"
            :class="activeTab === 'tab1' ? 'border-brand-pink text-brand-pink' : 'border-transparent text-gray-500 hover:text-gray-700'"
            class="px-6 py-3 font-semibold border-b-2 transition-colors"
          >
            Features
          </button>
          <button
            @click="activeTab = 'tab2'"
            :class="activeTab === 'tab2' ? 'border-brand-pink text-brand-pink' : 'border-transparent text-gray-500 hover:text-gray-700'"
            class="px-6 py-3 font-semibold border-b-2 transition-colors"
          >
            Performance
          </button>
          <button
            @click="activeTab = 'tab3'"
            :class="activeTab === 'tab3' ? 'border-brand-pink text-brand-pink' : 'border-transparent text-gray-500 hover:text-gray-700'"
            class="px-6 py-3 font-semibold border-b-2 transition-colors"
          >
            Integration
          </button>
        </div>

        <div class="min-h-[200px]">
          <div x-show="activeTab === 'tab1'" x-cloak x-transition class="space-y-4">
            <h4 class="font-semibold text-brand-black">Alpine.js Features</h4>
            <ul class="list-disc list-inside space-y-2 text-gray-600">
              <li>Lightweight (~15kb min+gzip)</li>
              <li>Declarative syntax similar to Vue.js</li>
              <li>No build step required</li>
              <li>Perfect for progressive enhancement</li>
            </ul>
          </div>

          <div x-show="activeTab === 'tab2'" x-cloak x-transition class="space-y-4">
            <h4 class="font-semibold text-brand-black">Performance Benefits</h4>
            <ul class="list-disc list-inside space-y-2 text-gray-600">
              <li>Fast initial load time</li>
              <li>Minimal JavaScript overhead</li>
              <li>Native browser APIs</li>
              <li>Excellent Lighthouse scores</li>
            </ul>
          </div>

          <div x-show="activeTab === 'tab3'" x-cloak x-transition class="space-y-4">
            <h4 class="font-semibold text-brand-black">Tailwind CSS Integration</h4>
            <ul class="list-disc list-inside space-y-2 text-gray-600">
              <li>Works seamlessly with Tailwind utilities</li>
              <li>Dynamic class binding with :class</li>
              <li>Transition classes for animations</li>
              <li>Responsive design with breakpoint prefixes</li>
            </ul>
          </div>
        </div>
      </div>

      {%- comment -%}Form Input Component{%- endcomment -%}
      <div
        x-data="{ name: '', email: '', submitted: false }"
        class="fashion-card p-8 md:col-span-2"
      >
        <h3 class="heading-tertiary mb-4">Form Input Demo</h3>
        <p class="body-text mb-6 text-gray-600">
          Test x-model for two-way data binding
        </p>

        <form
          @submit.prevent="submitted = true"
          class="space-y-4"
          x-show="!submitted"
          x-cloak
        >
          <div>
            <label for="name" class="block text-sm font-medium text-gray-700 mb-2">
              Your Name
            </label>
            <input
              id="name"
              type="text"
              x-model="name"
              placeholder="Enter your name"
              class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-brand-pink focus:ring-2 focus:ring-brand-pink focus:ring-opacity-20 transition-colors"
              required
            >
          </div>

          <div>
            <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
              Your Email
            </label>
            <input
              id="email"
              type="email"
              x-model="email"
              placeholder="Enter your email"
              class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-brand-pink focus:ring-2 focus:ring-brand-pink focus:ring-opacity-20 transition-colors"
              required
            >
          </div>

          <div class="bg-brand-gray rounded-lg p-4" x-show="name || email">
            <p class="text-sm text-gray-600 mb-2">Live Preview:</p>
            <p class="text-brand-black"><strong>Name:</strong> <span x-text="name || 'Not entered'"></span></p>
            <p class="text-brand-black"><strong>Email:</strong> <span x-text="email || 'Not entered'"></span></p>
          </div>

          <button
            type="submit"
            class="btn-primary w-full"
            :disabled="!name || !email"
            :class="{ 'opacity-50 cursor-not-allowed': !name || !email }"
          >
            Submit Form
          </button>
        </form>

        <div
          x-show="submitted"
          x-cloak
          x-transition
          class="text-center py-8"
        >
          <div class="inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4">
            <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
          </div>
          <h4 class="font-semibold text-brand-black mb-2 text-xl">Form Submitted!</h4>
          <p class="text-gray-600 mb-4">
            Thank you, <span x-text="name" class="font-semibold text-brand-pink"></span>!
          </p>
          <button
            @click="submitted = false; name = ''; email = ''"
            class="btn-secondary"
          >
            Submit Another
          </button>
        </div>
      </div>

    </div>

    {%- comment -%}Component Status Indicators{%- endcomment -%}
    <div class="mt-12 bg-white rounded-lg shadow-lg p-8">
      <h3 class="heading-tertiary mb-6 text-center">Integration Status</h3>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="text-center p-6 bg-green-50 rounded-lg border-2 border-green-200">
          <div class="inline-flex items-center justify-center w-12 h-12 bg-green-500 rounded-full mb-3">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
          </div>
          <h4 class="font-semibold text-gray-900 mb-1">Alpine.js</h4>
          <p class="text-sm text-gray-600">Loaded & Working</p>
        </div>

        <div class="text-center p-6 bg-green-50 rounded-lg border-2 border-green-200">
          <div class="inline-flex items-center justify-center w-12 h-12 bg-green-500 rounded-full mb-3">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
          </div>
          <h4 class="font-semibold text-gray-900 mb-1">Tailwind CSS</h4>
          <p class="text-sm text-gray-600">Compiled & Applied</p>
        </div>

        <div class="text-center p-6 bg-green-50 rounded-lg border-2 border-green-200">
          <div class="inline-flex items-center justify-center w-12 h-12 bg-green-500 rounded-full mb-3">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
          </div>
          <h4 class="font-semibold text-gray-900 mb-1">Integration</h4>
          <p class="text-sm text-gray-600">Fully Compatible</p>
        </div>
      </div>
    </div>

  </div>
</section>

{% schema %}
{
  "name": "Alpine.js Test Section",
  "tag": "section",
  "class": "alpine-test-section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Section Heading",
      "default": "Alpine.js + Tailwind CSS Demo"
    }
  ],
  "presets": [
    {
      "name": "Alpine.js Test Section",
      "category": "Custom"
    }
  ]
}
{% endschema %}
